ref x = 0 in 
ref b = 0 in
let inc = fun f {w | x as w | true} ->
    if !b == 0 then (b:=1;f(); x:=!x+1; b:=0) else () in
let get () = !x
in (inc,get)
|||
ref x = 0 in 
ref b = 0 in
let inc = fun f {w | x as w | true} ->
    if !b == 0 then (b:=1;let n = !x in  f(); x:= n+1;b:=0) else () in
let get () = !x
in (inc,get)
